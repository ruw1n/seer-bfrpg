# Seer — a Basic Fantasy RPG Discord Bot
_Last updated: 2025-11-09_

Seer automates **Basic Fantasy RPG (BFRPG)** play on Discord: character sheets, combat & initiative, spells and magic items,
shops & inventory, crafting, treasure, strongholds, exploration, and more.

This project includes material from the Basic Fantasy Role-Playing Game © Chris Gonnerman & contributors,
used under CC BY-SA 4.0 (https://creativecommons.org/licenses/by-sa/4.0/). Changes were made.
Basic Fantasy RPG is not affiliated with or endorsing this project.

**Docs:**  
• Player & GM Guide (text): [`howto.txt`](./howto.txt)  
• Forum/README-style Guide (Markdown): [`seer-guide.md`](./seer-guide.md)

---

##  Features

- **Characters**: create/level, stats, portraits, coins, inventory, equipment, encumbrance
- **Combat**: initiative tracker, turns, attacks, monster specials, statuses, HP & healing
- **Magic**: prepare/cast spells, concentration, scrolls/potions/wands/staves, item charges
- **Exploration**: doors, traps, foraging, hunting, encounter helpers, turn tracker
- **Treasure**: lair hoards (A..O), tallies, shop buy/sell
- **Crafting**: recipes for scrolls/potions/gear, timers & resolve loop, "safe" mode, perks
- **Strongholds**: followers, build-time calculators, excavation
- **NPCs**: modular parties & helpers for social and town play
- **Admin**: GM tools, server-owner safeguards

---

##  Quick Start

> You need a Discord bot token with **Message Content Intent** enabled (Discord Developer Portal → Bot → Privileged Gateway Intents).

### 1) Clone and set up Python
```bash
git clone <your-repo-url> seer
cd seer
python -m venv .venv
# Linux/macOS
source .venv/bin/activate
# Windows (PowerShell)
# .venv\Scripts\Activate.ps1
pip install -r requirements.txt
```

### 2) Configure your token
Set `DISCORD_TOKEN` in your environment **or** create a `.env` file:

```env
DISCORD_TOKEN=your-discord-bot-token
```

### 3) Run the bot
```bash
python bot.py
```
> If your entry script is named differently, run that (e.g., `main.py`).

Invite the bot to your server, then type `!help` in a channel.

---

##  Project Layout (typical)

```
seer/
  cogs/
    combat.py
    initiative.py
    spells.py
    sheet.py
    stats.py
    roll.py
    progression.py
    crafting.py
    strongholds.py
    npc.py
    players.py
  data/
    monsters/         # *.ini monster stat blocks
    items.lst         # catalog used by shop & inventory
    spell.lst         # spells reference & class lists
    class.lst         # class spell progressions (if used)
    craft_catalog.json# (generated by !craftdump)
  characters/
    <name>.coe        # player character files
  README.md
  howto.txt
  seer-guide.md
  requirements.txt
  main.py             # your launcher (example name)
```

> Character files (`.coe`) can live in the project root or a `characters/` folder—match whatever your launcher expects.

---

##  Player Guide (TL;DR)

### Characters
- Create & select: `!charcreate`, `!char <name>`  
- Sheet & portrait: `!stats`, `!portrait <url>`  
- XP & leveling: `!xp`, `!addxp N`, `!levelup`

### Gear & Coins
- Bags & equip: `!bag`, `!eq`  
- Manage items: `!additem`, `!carry`, `!uncarry`, `!equip`, `!unequip`, `!drop`  
- Coins & trade: `!coins`, `!givecoin <gp> 50 Testman`, `!give <item> <PC>`  
- Shops: `!shop [filter]`, `!buy <item>`, `!sell <item>`

### Rolls, Saves, Exploration
- Dice & checks: `!r 2d6+1`, `!c str`, `!s listen +2`, `!save spell +1`  
- Procedures: `!door`, `!trap`, `!nt N`, `!t` (order ping)  
- Foraging/Hunting: `!forage [-dm]`, `!hunt <terrain> [-no-wander] [-dm]`  
- Encounters helper: `!e dungeon 3` | `!e forest` | `!e town` | `!e orc`

### Combat (on your turn)
- Attack: `!a <weapon> [targets] [-b ±N] [-d X] [short|long]`  
- Defend: `!defend` (+4 AC until next turn)  
- Escape: `!escape` (wrestling/holds)  
- HP: `!hp` (show) or `!hp -4` (adjust)

### Spells & Magic Items
- Prep/slots: `!prepare <Spell>`, `!unprepare`, `!sb`, `!ss`  
- Cast: `!cast <Spell> [targets...] [-i]`, `!conc`, `!conc drop`  
- Scrolls/Wands/Staves/Potions: `!read`, `!readmagic`, `!scrolls`, `!givescroll`, `!removescroll`, `!prunescrolls`, `!wand`, `!staff`, `!potion`, `!item`, `!charges`

### Strongholds & Followers
- Followers for established PCs: `!followers <PC>`  
- Calculators: `!shcalc ...`, `!shdig ...`

---

##  GM Guide (TL;DR)

### Initiative & Tracking
- Start: `!init`, players `!join`, repost `!list`, advance `!n` / back `!p`, end `!end`  
- Status & timers: `!status`, remove `!ds`, generic `!track`, `!t` (order ping)  
- HP & healing: `!hp <name> ±N`, full heal `!heal <name>`, revive `!rouse <name>`

### Monsters & Abilities
- Spawn/remove: `!mon <Type> [N]`, `!remove <name>`  
- Rolls: `!msave`, `!morale`, `!react`, `!surprise`  
- Adjust: `!hd <name> <HD>` (± pips change HP)  
- Battlefield effects: `!invis <name> on|off`, `!unpoly <name>`  
- Elementals/auras/breath etc.: `!breath`, `!spray`, `!spore`, `!stench`, `!spin`, `!thunderclap`, `!gaze`, `!slow`, `!slam`, `!aoo`, `!spit`, `!brush`, `!ignite`

### Treasure & Shops
- Lair hoards: `!treasure <A..O> [count]`  
- Tally & finalize: `!tally`, `!loot`, `!treset`  
- Shop flow: `!shop`, `!buy`, `!sell`

### Crafting
- Browse: `!craft list [filter] [-p N]`  
- Start: `!craft start "<Recipe>" [-doses N] [-safe]`  
- Track: `!craft status`, `!craft due`  
- Resolve/cancel: `!craft resolve [id|all]`, `!craft cancel <id>`  
- Export catalog (dev): `!craftdump`

### Strongholds
- Followers: `!followers <PC>`  
- Build math: `!shcalc ...`, `!shdig ...`

### Admin / Safety
- Owner-only deletion: `!zap <char>` (dangerous; removes `.coe` and unregisters)  

---

##  Options & Conventions

- **Active character**: most commands act on the PC you set with `!char`.
- **Targets**: many combat/spell commands accept initiative tokens like `go1`, `gn2`.
- **Modifiers**: most roll commands accept `±N`; many casting/GM tools support `-i` (simulate).
- **Privacy**: exploration commands often accept `-dm` / `-private` (DM you) and `-p` / `-public`.
- **Instances**: some items/scrolls have unique IDs like `scroll:abc123` or `StaffofPower@76f2b0`.

---

##  Installation Notes

- **Python**: 3.10+ recommended.  
- **Discord Intents**: Make sure **Message Content Intent** is enabled for the bot.  
- **Permissions**: Some commands are GM-only; a few are server-owner only.  
- **Data**: Ensure `data/` contains your items list, `spell.lst`, and any class spell progressions your ruleset expects. Monsters go in `data/monsters/*.ini`.

---

##  Extending Seer

- Add new monsters to `data/monsters/*.ini` and use `!mon` to spawn them.  
- Add item definitions to `data/items.lst` for shops and inventory.  
- Add or adjust recipes in the crafting subsystem, then run `!craftdump` to audit.  
- Create new spell aliases in the spells cog to automate special behaviors post-cast.

---

##  Documentation

- **User how-to**: [`howto.txt`](./howto.txt) (players & GMs)  
- **Markdown guide**: [`seer-guide.md`](./seer-guide.md)


##  Credits

- ruwin
- BFRPG creators & community (CC BY-SA).  
- You, for running awesome games.

---
